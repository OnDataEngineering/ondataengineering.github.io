<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8" /><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="stylesheet" type="text/css" href="/assets/css/app.css" /> <script src="/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <noscript><link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic|Volkhov' rel='stylesheet' type='text/css' /> </noscript><title>Thoughts On Schema Registries | OnDataEngineering</title><meta property="og:title" content="Thoughts On Schema Registries" /><meta name="author" content="Peter" /><meta property="og:locale" content="en_US" /><meta name="description" content="So I want to spend the next couple of weeks thinking about how you store structured data in unstructured data stores (specifically Streaming Data Stores, Hadoop Compatible File Systems and Object Stores). This week, we’re looking at Streaming Data Stores" /><meta property="og:description" content="So I want to spend the next couple of weeks thinking about how you store structured data in unstructured data stores (specifically Streaming Data Stores, Hadoop Compatible File Systems and Object Stores). This week, we’re looking at Streaming Data Stores" /><link rel="canonical" href="https://ondataengineering.net/blog/2018/11/02/thoughts-on-schema-registries/" /><meta property="og:url" content="https://ondataengineering.net/blog/2018/11/02/thoughts-on-schema-registries/" /><meta property="og:site_name" content="OnDataEngineering" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-11-02T07:45:00+00:00" /><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@OnDataEng" /><meta name="twitter:creator" content="@OnDataEng" /> <script type="application/ld+json"> {"name":null,"description":"So I want to spend the next couple of weeks thinking about how you store structured data in unstructured data stores (specifically Streaming Data Stores, Hadoop Compatible File Systems and Object Stores). This week, we’re looking at Streaming Data Stores","author":{"@type":"Person","name":"Peter"},"@type":"BlogPosting","url":"https://ondataengineering.net/blog/2018/11/02/thoughts-on-schema-registries/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ondataengineering.net/assets/img/logo.png"},"name":"Peter"},"image":null,"headline":"Thoughts On Schema Registries","dateModified":"2018-11-02T07:45:00+00:00","datePublished":"2018-11-02T07:45:00+00:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"https://ondataengineering.net/blog/2018/11/02/thoughts-on-schema-registries/"},"@context":"http://schema.org"}</script><link type="text/plain" rel="author" href="https://ondataengineering.net/humans.txt" /><link rel="icon" sizes="32x32" href="https://ondataengineering.net/assets/img/favicon-32x32.png" /><link rel="icon" sizes="192x192" href="https://ondataengineering.net/assets/img/touch-icon-192x192.png" /><link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://ondataengineering.net/assets/img/apple-touch-icon-180x180-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://ondataengineering.net/assets/img/apple-touch-icon-152x152-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://ondataengineering.net/assets/img/apple-touch-icon-144x144-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://ondataengineering.net/assets/img/apple-touch-icon-120x120-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://ondataengineering.net/assets/img/apple-touch-icon-114x114-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://ondataengineering.net/assets/img/apple-touch-icon-76x76-precomposed.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://ondataengineering.net/assets/img/apple-touch-icon-72x72-precomposed.png" /><link rel="apple-touch-icon-precomposed" href="https://ondataengineering.net/assets/img/apple-touch-icon-precomposed.png" /><meta name="msapplication-TileImage" content="https://ondataengineering.net/assets/img/msapplication_tileimage.png" /><meta name="msapplication-TileColor" content="#fabb00" /><body id="top-of-page" class=""><div id="navigation" class="contain-to-grid sticky"><nav class="top-bar" role="navigation" data-topbar><ul class="title-area"><li class="name"> <a href="/" title="OnDataEngineering/"> <span class="show-for-small-only">OnDataEngineering</span> <img class="show-for-medium-up" id="site-logo" src="https://ondataengineering.net/assets/img/logo.png" alt="OnDataEngineering"> </a><li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></ul><section class="top-bar-section"><ul class="nav-menu-align"><li class="divider"><li class="divider"><li><a href="https://ondataengineering.net/technologies/">Technologies</a><li class="divider"><li><a href="https://ondataengineering.net/tech-categories/">Tech Categories</a><li class="divider"><li><a href="https://ondataengineering.net/tech-vendors/">Tech Vendors</a><li class="divider"><li><a href="https://ondataengineering.net/blog/">Blog</a><li class="divider"><li><a href="http://discourse.ondataengineering.net">Forums</a><li class="divider"><li class="has-dropdown"> <a href="https://ondataengineering.net/site/">Site</a><ul class="dropdown"><li><a href="https://ondataengineering.net/site/">Site Info</a><li><a href="https://ondataengineering.net/site/search/">Search</a><li><a href="https://ondataengineering.net/site/content-license/">Content License</a><li><a href="https://ondataengineering.net/site/subscribe/">Subscribe</a><li><a href="https://ondataengineering.net/site/contributing/">Contributing</a></ul><li class="divider"><li class="divider"><li class="divider"></ul></section></nav></div><div class="row t20"><div class="columns medium-12"><nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs"> <a href="https://ondataengineering.net">Home</a> <a href="https://ondataengineering.net/blog/">blog</a> <a class="unavailable">2018</a> <a class="unavailable">11</a> <a class="unavailable">02</a> <a class="current">thoughts on schema registries</a></nav></div></div><div class="row t30"><div class="medium-9 columns medium-push-3"><article itemscope itemtype="http://schema.org/Article"><header><h1> <span itemprop="name">Thoughts On Schema Registries</span> <a class="button tiny radius" href="https://github.com/OnDataEngineering/OnDataEngineeringContent/edit/main/_posts/2018-11-02-thoughts-on-schema-registries.md" title="Spotted a typo or error on this page? Click here to edit it and send us your proposed changes">edit &nbsp; <img style="height: 13px;" src="/assets/fonts/info-with-circle.svg"></a> <a class="button tiny radius" href="http://discourse.ondataengineering.net/t/thoughts-on-schema-registries" title="Have questions, thoughts or comments on this post? Click here to discuss them on its Discourse topic">discuss &nbsp; <img style="height: 13px;" src="/assets/fonts/info-with-circle.svg"></a></h1></header><div id="page-meta" style="margin-top: -0.8rem"><p> <time class="pr20 icon-calendar" datetime="2018-11-02" itemprop="datePublished"> 2018-11-02</time> <span class="pr20 icon-price-tag"><a href="/tech-categories/schema-registries/"> Schema Registries</a></span> <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="pr20 icon-edit"> <a href="http://ondataengineering.net/" target="_blank"> Peter</a> </span></span></div><span itemprop="articleSection"><p>So I want to spend the next couple of weeks thinking about how you store structured data in unstructured data stores (specifically <a href="/tech-categories/streaming-data-stores/">Streaming Data Stores</a>, <a href="/tech-categories/hadoop-compatible-filesystems/">Hadoop Compatible File Systems</a> and <a href="/tech-categories/object-stores/">Object Stores</a>).<p>This week, we’re looking at <a href="/tech-categories/streaming-data-stores/">Streaming Data Stores</a> <!--more--><p>We need to look at this because messages in streaming data stores are just collections of bytes, with all serialisation and de-serialisation is done in the client, effectively meaning we’re doing schema on read/write. So the client needs to know what schema to use to serialise or de-serialise the data.<p>With batch data on disk you could use self describing data - i.e. you embed the schema with the data using something like <a href="/technologies/apache-avro/">Avro</a>, however that doesn’t work for streaming data as it’s just not practical to embed the schema into every message, so your schema has to live somewhere else.<p>You could embed the schema into you code, and with a bit of care you can have a shared schema that multiple jobs use. However this doesn’t allow anything outside of your code base to re-use this schema - if you’re using third party tools that don’t integrate with your configuration management tool (e.g. NiFi or StreamSets), then you have no way of sharing that schema.<p>So the final option is to use a dedicated schema registry - a tool that will manage your schemas for you, and serve them up over an API based on the topic name that can be used by clients to fetch the schema when they want to read and write data. You will however need to make sure that the client or tool you’re using supports the schema registry. As an added bonus, they support schema compatibility checks, in that if you say you want your schemas to be forward or backward compatible (or both), it will validate that any changes to schemas conform to this.<p>And for your schema registry you basically have two options at the moment.<p>The first is the Confluent Schema Registry, part of the <a href="/technologies/confluent-open-source/">Confluent Open Source</a> bundle of <a href="/technologies/apache-kafka/">Apache Kafka</a>. It supports Avro schemas, and is integrated into Kafka APIs, Kafka Connect, Kafka Streams, NiFi and StreamSets.<p>The second is a more recent addition, with Hortonworks’ open source <a href="/technologies/schema-registry/">Schema Registry</a> tool. It does broadly the same thing, supporting Avro schema, with integration into the Kafka APIs plus NiFi and their Streaming Analytics Manager. And it’s designed to be more general purpose, with support for serving templates, machine learning models or business rules mooted for the future.<p>Next week we’ll take about schema management for data in <a href="/tech-categories/hadoop-compatible-filesystems/">Hadoop Compatible File Systems</a> and <a href="/tech-categories/object-stores/">Object Stores</a>) and the <a href="/technologies/apache-hive/hive-metastore/">Hive Metastore</a>, which fulfils a similar function, but with some extra complications. </span><div class="row t30"><div class="small-5 columns text-left"> <a class="button tiny radius prev" href="https://ondataengineering.net/blog/2018/11/07/the-mid-week-news/"><span class="icon-chevron-left"></span>Next</a></div><div class="small-2 columns text-center"> <a class="button tiny radius" href="https://ondataengineering.net/blog/archive/" title="Archive">Archive</a></div><div class="small-5 columns text-right"> <a class="button tiny radius next" href="https://ondataengineering.net/blog/2018/10/31/the-mid-week-news/">Previous<span class="icon-chevron-right"></span></a></div></div></article><div class="row b30"></div></div><div class="medium-3 columns medium-pull-9"><aside><div class="panel sidebar radius"><p>OnDataEngineering is a collaboratively authored site on the transformation and preparation of data for analytics, licensed under a Creative Commons Licence. Read more <a href="/site/">here</a><p>For details on how to contribute to this site see <a href="/site/contributing/">here</a></div><div class="panel sidebar radius b0"><p>Spotted a typo or error on this page? <a href="https://github.com/OnDataEngineering/OnDataEngineeringContent/edit/main/_posts/2018-11-02-thoughts-on-schema-registries.md">Edit</a> it and send us your proposed changes<p>Have questions, thoughts or comments on this post? <a href="http://discourse.ondataengineering.net/t/thoughts-on-schema-registries">Discuss</a> them on its Discourse topic<p> See the <a href="https://github.com/OnDataEngineering/OnDataEngineeringContent/commits/main/_posts/2018-11-02-thoughts-on-schema-registries.md">history</a> of this page, or <a href="https://github.com/OnDataEngineering/OnDataEngineeringContent/blob/main/_posts/2018-11-02-thoughts-on-schema-registries.md">view</a> this page in GitHub.</div></aside></div></div></div><div id="up-to-top" class="row"><div class="small-12 columns text-right"> <a class="iconfont" href="#top-of-page">&#xf108;</a></div></div><footer><div class="row"><div class="columns"><div id="footer" class="row panel radius" style="margin: 0px"><div class="medium-6 large-5 columns"><h5>Licencing</h5><p> <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a> <br /> The contents of <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">OnDataEngineering.net</span> is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. For full details see <a xmlns:cc="http://creativecommons.org/ns#" href="https://ondataengineering.net/site/content-license/" rel="cc:morePermissions">here</a>.</div><div class="small-6 medium-3 large-3 large-offset-1 columns"><h5>Subscribe by</h5><ul class="no-bullet"><li > <a href="" title=""></a><li > <a href="https://twitter.com/OnDataEng" target="_blank" title="Follow us on twitter">Twitter</a><li > <a href="http://eepurl.com/cyQSqv" target="_blank" title="Subscribe to updates by e-mail">E-Mail</a><li > <a href="/atom.xml" title="Subscribe to Atom Feed">Atom</a><li > <a href="/feed.xml" title="Subscribe to RSS Feed">RSS</a></ul></div><div class="small-6 medium-3 large-3 columns"><h5>Credits</h5><ul class="no-bullet"><li > <a href="" title=""></a><li > <a href="http://jekyllrb.com/" target="_blank" title="Jekyll">Jekyll</a><li > <a href="http://phlow.github.io/feeling-responsive/" target="_blank" title="Feeling Responsive">Feeling Responsive</a><li > <a href="http://foundation.zurb.com/" target="_blank" title="Foundation">Foundation</a><li > <a href="http://entypo.com/" target="_blank" title="Icons by Daniel Bruce">Icons by Daniel Bruce</a><li > <a href="http://jch.penibelst.de/" target="_blank" title="Jekyll Compress HTML">Jekyll Compress HTML</a></ul></div></div></div></div></footer><script src="/assets/js/app.min.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-88912556-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script>
